<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.109.0"><meta name=generator content="Relearn 5.11.2+tip"><meta name=description content="Duration: 10 min | Persona: Platform Admin"><meta name=author content="Mathieu Benoit"><title>Configure Config Sync ::</title><link href=/acm-workshop/images/favicon.png?1675964766 rel=icon type=image/png><link href=/acm-workshop/css/fontawesome-all.min.css?1675964766 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/acm-workshop/css/fontawesome-all.min.css?1675964766 rel=stylesheet></noscript><link href=/acm-workshop/css/auto-complete.css?1675964766 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/acm-workshop/css/auto-complete.css?1675964766 rel=stylesheet></noscript><link href=/acm-workshop/css/perfect-scrollbar.min.css?1675964766 rel=stylesheet><link href=/acm-workshop/css/nucleus.css?1675964766 rel=stylesheet><link href=/acm-workshop/css/fonts.css?1675964766 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/acm-workshop/css/fonts.css?1675964766 rel=stylesheet></noscript><link href=/acm-workshop/css/theme.css?1675964766 rel=stylesheet><link href=/acm-workshop/css/theme-mine.css?1675964766 rel=stylesheet id=variant-style><link href=/acm-workshop/css/ie.css?1675964766 rel=stylesheet><link href=/acm-workshop/css/variant.css?1675964766 rel=stylesheet><link href=/acm-workshop/css/print.css?1675964766 rel=stylesheet media=print><script src=/acm-workshop/js/url.js?1675964766></script>
<script src=/acm-workshop/js/variant.js?1675964766></script>
<script>window.index_json_url="/acm-workshop/index.json";var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="Copy to clipboard",window.T_Copied_to_clipboard="Copied to clipboard!",window.T_Copy_link_to_clipboard="Copy link to clipboard",window.T_Link_copied_to_clipboard="Copied link to clipboard!",window.T_No_results_found="No results found for \u0022{0}\u0022",window.T_N_results_found="{1} results found for \u0022{0}\u0022",baseUriFull="https://mathieu-benoit.github.io/acm-workshop/",window.variants&&variants.init(["mine"])</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-N4LZTQ74QV"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-N4LZTQ74QV",{anonymize_ip:!1})}</script></head><body class="mobile-support html" data-url=/acm-workshop/bankofanthos/configure-config-sync/index.html><div id=body class=default-animation><div id=sidebar-overlay></div><div id=toc-overlay></div><nav id=topbar class=highlightable><div><div class=navigation><a class="nav nav-next topbar-link" href=/acm-workshop/bankofanthos/prepare-containers/index.html title="Prepare containers (&#129106;)"><i class="fas fa-chevron-right fa-fw"></i></a></div><div class=navigation><a class="nav nav-prev topbar-link" href=/acm-workshop/bankofanthos/set-up-url-uptime-check/index.html title="Set up URL uptime check (&#129104;)"><i class="fas fa-chevron-left fa-fw"></i></a></div><div id=top-github-link><a class="github-link topbar-link" title='Edit (CTRL+ALT+w)' href=https://github.com/mathieu-benoit/acm-workshop/edit/main/content/bankofanthos/configure-config-sync.md target=_blank><i class="fas fa-pen fa-fw"></i></a></div><div id=breadcrumbs><span id=sidebar-toggle-span><a href=# id=sidebar-toggle class=topbar-link title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a></span>
<span id=toc-menu title='Table of Contents (CTRL+ALT+t)'><i class="fas fa-list-alt fa-fw"></i></span><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/acm-workshop/index.html><span itemprop=name>ACM/ASM Workshop</span></a><meta itemprop=position content="1">></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/acm-workshop/bankofanthos/index.html><span itemprop=name>10. Bank of Anthos apps</span></a><meta itemprop=position content="2">></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Configure Config Sync</span><meta itemprop=position content="3"></li></ol></div><div class="default-animation progress"><div class=toc-wrapper dir=ltr><nav id=TableOfContents><ul><li><a href=#define-namespace>Define Namespace</a></li><li><a href=#create-github-repository>Create GitHub repository</a></li><li><a href=#define-reposync>Define RepoSync</a></li><li><a href=#deploy-kubernetes-manifests>Deploy Kubernetes manifests</a></li><li><a href=#check-policies-violation>Check Policies violation</a></li></ul></nav></div></div></div></nav><main id=body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><div id=head-tags><div class=tags><a class=tag-link href=/acm-workshop/tags/asm/index.html>asm</a>
<a class=tag-link href=/acm-workshop/tags/gitops-tips/index.html>gitops-tips</a>
<a class=tag-link href=/acm-workshop/tags/platform-admin/index.html>platform-admin</a>
<a class=tag-link href=/acm-workshop/tags/security-tips/index.html>security-tips</a></div></div><article class=default><h1 id=configure-config-sync>Configure Config Sync</h1><p><a href=#image-35d2ca7ab3bcfd9c3f3f343fd54a91bb class=lightbox-link><img src=/images/platform-admin.png alt="Platform Admin" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-35d2ca7ab3bcfd9c3f3f343fd54a91bb><img src=/images/platform-admin.png alt="Platform Admin" class=lightbox-image loading=lazy></a>
<em>Duration: 10 min | Persona: Platform Admin</em></p><p>In this section, you will set up a dedicated GitHub repository which will contain all the Kubernetes manifests of the Bank of Anthos apps. You will also have the opportunity to catch a policies violation.</p><p>Initialize variables:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Bash data-lang=Bash><span style=display:flex><span>WORK_DIR<span style=color:#f92672>=</span>~/
</span></span><span style=display:flex><span>source <span style=color:#e6db74>${</span>WORK_DIR<span style=color:#e6db74>}</span>acm-workshop-variables.sh
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;export BANKOFANTHOS_NAMESPACE=bankofanthos&#34;</span> &gt;&gt; <span style=color:#e6db74>${</span>WORK_DIR<span style=color:#e6db74>}</span>acm-workshop-variables.sh
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;export BANK_OF_ANTHOS_DIR_NAME=acm-workshop-bankofanthos-repo&#34;</span> &gt;&gt; <span style=color:#e6db74>${</span>WORK_DIR<span style=color:#e6db74>}</span>acm-workshop-variables.sh
</span></span><span style=display:flex><span>source <span style=color:#e6db74>${</span>WORK_DIR<span style=color:#e6db74>}</span>acm-workshop-variables.sh
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Bash data-lang=Bash><span style=display:flex><span>mkdir -p <span style=color:#e6db74>${</span>WORK_DIR<span style=color:#e6db74>}</span>$GKE_CONFIGS_DIR_NAME/repo-syncs
</span></span><span style=display:flex><span>mkdir <span style=color:#e6db74>${</span>WORK_DIR<span style=color:#e6db74>}</span>$GKE_CONFIGS_DIR_NAME/repo-syncs/$BANKOFANTHOS_NAMESPACE
</span></span></code></pre></div><h2 id=define-namespace>Define Namespace</h2><p>Define a dedicated <code>Namespace</code> for the Bank of Anthos apps:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Bash data-lang=Bash><span style=display:flex><span>cat <span style=color:#e6db74>&lt;&lt;EOF &gt; ${WORK_DIR}$GKE_CONFIGS_DIR_NAME/repo-syncs/$BANKOFANTHOS_NAMESPACE/namespace.yaml
</span></span></span><span style=display:flex><span><span style=color:#e6db74>apiVersion: v1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>kind: Namespace
</span></span></span><span style=display:flex><span><span style=color:#e6db74>metadata:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  labels:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    istio-injection: enabled
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    pod-security.kubernetes.io/enforce: baseline
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  name: ${BANKOFANTHOS_NAMESPACE}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span></code></pre></div><div class="box notices cstyle note"><div class=box-label><i class="fa-fw fas fa-exclamation-circle"></i> Note</div><div class=box-content><p>In addition to the <code>istio-injection</code> to include this <code>Namespace</code> into our Service Mesh, we are also adding the <code>pod-security.kubernetes.io/enforce</code> label as the <code>baseline</code> <a href=https://kubernetes.io/docs/concepts/security/pod-security-standards/ target=_blank>Pod Security Standards policy</a>.</p></div></div><h2 id=create-github-repository>Create GitHub repository</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Bash data-lang=Bash><span style=display:flex><span>cd <span style=color:#e6db74>${</span>WORK_DIR<span style=color:#e6db74>}</span>
</span></span><span style=display:flex><span>gh repo create $BANK_OF_ANTHOS_DIR_NAME --public --clone --template https://github.com/mathieu-benoit/config-sync-app-template-repo
</span></span><span style=display:flex><span>cd <span style=color:#e6db74>${</span>WORK_DIR<span style=color:#e6db74>}</span>$BANK_OF_ANTHOS_DIR_NAME
</span></span><span style=display:flex><span>git pull
</span></span><span style=display:flex><span>git checkout main
</span></span><span style=display:flex><span>BANK_OF_ANTHOS_REPO_URL<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>gh repo view --json url --jq .url<span style=color:#66d9ef>)</span>
</span></span></code></pre></div><h2 id=define-reposync>Define RepoSync</h2><p>Define a <code>RepoSync</code> linking this Git repository:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Bash data-lang=Bash><span style=display:flex><span>cat <span style=color:#e6db74>&lt;&lt;EOF &gt; ${WORK_DIR}$GKE_CONFIGS_DIR_NAME/repo-syncs/$BANKOFANTHOS_NAMESPACE/repo-sync.yaml
</span></span></span><span style=display:flex><span><span style=color:#e6db74>apiVersion: configsync.gke.io/v1beta1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>kind: RepoSync
</span></span></span><span style=display:flex><span><span style=color:#e6db74>metadata:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  name: repo-sync
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  namespace: ${BANKOFANTHOS_NAMESPACE}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>spec:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  sourceFormat: unstructured
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  git:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    repo: ${BANK_OF_ANTHOS_REPO_URL}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    revision: HEAD
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    branch: main
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    dir: staging
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    auth: none
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Bash data-lang=Bash><span style=display:flex><span>cat <span style=color:#e6db74>&lt;&lt;EOF &gt; ${WORK_DIR}$GKE_CONFIGS_DIR_NAME/repo-syncs/$BANKOFANTHOS_NAMESPACE/repo-sync-role-binding.yaml
</span></span></span><span style=display:flex><span><span style=color:#e6db74>apiVersion: rbac.authorization.k8s.io/v1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>kind: RoleBinding
</span></span></span><span style=display:flex><span><span style=color:#e6db74>metadata:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  name: repo-sync
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  namespace: ${BANKOFANTHOS_NAMESPACE}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>subjects:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>- kind: ServiceAccount
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  name: ns-reconciler-${BANKOFANTHOS_NAMESPACE}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  namespace: config-management-system
</span></span></span><span style=display:flex><span><span style=color:#e6db74>roleRef:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  kind: ClusterRole
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  name: edit
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  apiGroup: rbac.authorization.k8s.io
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span></code></pre></div><div class="box notices cstyle tip"><div class=box-label><i class="fa-fw fas fa-lightbulb"></i> Tip</div><div class=box-content><p>We are using the <a href=https://kubernetes.io/docs/reference/access-authn-authz/rbac/#user-facing-roles target=_blank><code>edit</code> user-facing role</a> here, to follow the least privilege principle. Earlier in this workshop during the ASM installation, we extended the default <code>edit</code> role with more capabilities regarding to the Istio resources: <code>VirtualServices</code>, <code>Sidecars</code> and <code>AuthorizationPolicies</code> which will be leveraged in the Bank of Anthos&rsquo;s namespace.</p></div></div><h2 id=deploy-kubernetes-manifests>Deploy Kubernetes manifests</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Bash data-lang=Bash><span style=display:flex><span>cd <span style=color:#e6db74>${</span>WORK_DIR<span style=color:#e6db74>}</span>$GKE_CONFIGS_DIR_NAME/
</span></span><span style=display:flex><span>git add . <span style=color:#f92672>&amp;&amp;</span> git commit -m <span style=color:#e6db74>&#34;Configure Config Sync for Bank of Anthos&#34;</span> <span style=color:#f92672>&amp;&amp;</span> git push origin main
</span></span></code></pre></div><h2 id=check-policies-violation>Check Policies violation</h2><p>List the Kubernetes resources managed by Config Sync in <strong>GKE cluster</strong> for the <strong>GKE cluster configs</strong> repository:<div class=tab-panel data-tab-group=cs-status-ui><div class=tab-nav><button data-tab-item=UI class="tab-nav-button active" onclick='switchTab("cs-status-ui","UI")'>
<span>UI</span></button>
<button data-tab-item=gcloud class=tab-nav-button onclick='switchTab("cs-status-ui","gcloud")'>
<span>gcloud</span></button></div><div class=tab-content><div data-tab-item=UI class="tab-content-text active"><p>Run this command and click on this link:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Bash data-lang=Bash><span style=display:flex><span>echo -e <span style=color:#e6db74>&#34;https://console.cloud.google.com/kubernetes/config_management/packages?project=</span><span style=color:#e6db74>${</span>TENANT_PROJECT_ID<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span></code></pre></div><p>Wait until you see the <code>Sync status</code> column as <code>Synced</code> and the <code>Reconcile status</code> column as <code>Current</code>.</p></div><div data-tab-item=gcloud class=tab-content-text><p>Run this command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Bash data-lang=Bash><span style=display:flex><span>gcloud alpha anthos config sync repo describe <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --project $TENANT_PROJECT_ID <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --managed-resources all <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --sync-name root-sync <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --sync-namespace config-management-system
</span></span></code></pre></div><p>Wait and re-run this command above until you see <code>"status": "SYNCED"</code>.</p></div></div></div></p><p>List the GitHub runs for the <strong>GKE cluster configs</strong> repository:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Bash data-lang=Bash><span style=display:flex><span>cd <span style=color:#e6db74>${</span>WORK_DIR<span style=color:#e6db74>}</span>$GKE_CONFIGS_DIR_NAME <span style=color:#f92672>&amp;&amp;</span> gh run list
</span></span></code></pre></div><footer class=footline></footer></article></div></main></div><aside id=sidebar class="default-animation showVisitedLinks" dir=ltr><div id=header-wrapper class=default-animation><div id=header class=default-animation><a id=logo href=/><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100" height="100" viewBox="0 0 24 24"><style>.st0{fill:#febc00}.st1{fill:#ee3c2b}.st2{fill:#2baa4f}.st3{fill:#3982f8}</style><polygon class="st0" points="6,15.8 12,5.3 18,15.8 23,20.8 23.2,21 23.2,21 12,1.6 0.8,21 0.8,21 1,20.8"/><g><g><polygon class="st1" points="12,9.7 1,20.8 5.6,18.7 12,12.3 18.4,18.7 23,20.8"/></g></g><polygon class="st2" points="6,20.6 1.8,22.4 22.2,22.4 18,20.6"/><polygon class="st3" points="23,20.8 12,15.8 1,20.8 0,22.4 1.8,22.4 12,17.8 22.2,22.4 24,22.4"/></svg></div><b>ACM/ASM Workshop</b></a></div></div><div id=content-wrapper class=highlightable><ul class=topics><li data-nav-id=/acm-workshop/overview/index.html class=dd-item><a href=/acm-workshop/overview/index.html>Overview<i class="fas fa-check read-icon"></i></a><ul id=subsections-802c60793ff0af3dfb7211e666dc12f4><li data-nav-id=/acm-workshop/overview/personas/index.html class=dd-item><a href=/acm-workshop/overview/personas/index.html>Personas<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/overview/agenda/index.html class=dd-item><a href=/acm-workshop/overview/agenda/index.html>Agenda<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/overview/before-you-begin/index.html class=dd-item><a href=/acm-workshop/overview/before-you-begin/index.html>Before you begin<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/overview/credits/index.html class=dd-item><a href=/acm-workshop/overview/credits/index.html>Credits<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/overview/costs/index.html class=dd-item><a href=/acm-workshop/overview/costs/index.html>Costs<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/acm-workshop/host-project/index.html class=dd-item><a href=/acm-workshop/host-project/index.html>1. Host project<i class="fas fa-check read-icon"></i></a><ul id=subsections-71c02f76cfc7d43b7427a340b0ea5395><li data-nav-id=/acm-workshop/host-project/create-host-project/index.html class=dd-item><a href=/acm-workshop/host-project/create-host-project/index.html>Create Host project<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/host-project/create-config-controller/index.html class=dd-item><a href=/acm-workshop/host-project/create-config-controller/index.html>Create Config Controller<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/host-project/set-up-host-project-git-repo/index.html class=dd-item><a href=/acm-workshop/host-project/set-up-host-project-git-repo/index.html>Set up Host project's Git repo<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/host-project/enforce-tenant-projects-policies/index.html class=dd-item><a href=/acm-workshop/host-project/enforce-tenant-projects-policies/index.html>Enforce Tenant projects policies<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/acm-workshop/tenant-project/index.html class=dd-item><a href=/acm-workshop/tenant-project/index.html>2. Tenant project<i class="fas fa-check read-icon"></i></a><ul id=subsections-f8117c090acee38678d57d19d7b86676><li data-nav-id=/acm-workshop/tenant-project/create-tenant-project/index.html class=dd-item><a href=/acm-workshop/tenant-project/create-tenant-project/index.html>Create Tenant project<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/tenant-project/set-up-gke-project-git-repo/index.html class=dd-item><a href=/acm-workshop/tenant-project/set-up-gke-project-git-repo/index.html>Set up Tenant project's Git repo<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/tenant-project/enforce-gcp-resources-policies/index.html class=dd-item><a href=/acm-workshop/tenant-project/enforce-gcp-resources-policies/index.html>Enforce GCP resources policies<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/tenant-project/allow-monitoring/index.html class=dd-item><a href=/acm-workshop/tenant-project/allow-monitoring/index.html>Allow Monitoring<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/tenant-project/set-up-monitoring/index.html class=dd-item><a href=/acm-workshop/tenant-project/set-up-monitoring/index.html>Set up Monitoring<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/acm-workshop/networking/index.html class=dd-item><a href=/acm-workshop/networking/index.html>3. Networking<i class="fas fa-check read-icon"></i></a><ul id=subsections-32ba51710c14dbc40b371b19ad442e93><li data-nav-id=/acm-workshop/networking/allow-networking/index.html class=dd-item><a href=/acm-workshop/networking/allow-networking/index.html>Allow Networking<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/networking/set-up-network/index.html class=dd-item><a href=/acm-workshop/networking/set-up-network/index.html>Set up Network<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/acm-workshop/gke-cluster/index.html class=dd-item><a href=/acm-workshop/gke-cluster/index.html>4. GKE cluster<i class="fas fa-check read-icon"></i></a><ul id=subsections-e37d194a28b30160fa3e8554e980ff66><li data-nav-id=/acm-workshop/gke-cluster/allow-gke/index.html class=dd-item><a href=/acm-workshop/gke-cluster/allow-gke/index.html>Allow GKE<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/gke-cluster/enforce-gke-policies/index.html class=dd-item><a href=/acm-workshop/gke-cluster/enforce-gke-policies/index.html>Enforce GKE policies<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/gke-cluster/create-gke-cluster/index.html class=dd-item><a href=/acm-workshop/gke-cluster/create-gke-cluster/index.html>Create GKE cluster<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/gke-cluster/allow-fleet/index.html class=dd-item><a href=/acm-workshop/gke-cluster/allow-fleet/index.html>Allow Fleet<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/gke-cluster/set-up-gke-configs-git-repo/index.html class=dd-item><a href=/acm-workshop/gke-cluster/set-up-gke-configs-git-repo/index.html>Set up GKE configs's Git repo<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/gke-cluster/enforce-kubernetes-policies/index.html class=dd-item><a href=/acm-workshop/gke-cluster/enforce-kubernetes-policies/index.html>Enforce Kubernetes policies<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/gke-cluster/set-up-network-policies-logging/index.html class=dd-item><a href=/acm-workshop/gke-cluster/set-up-network-policies-logging/index.html>Set up NetworkPolicies logging<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/acm-workshop/artifact-registry/index.html class=dd-item><a href=/acm-workshop/artifact-registry/index.html>5. Artifact Registry<i class="fas fa-check read-icon"></i></a><ul id=subsections-b0fefb1065200f0d82d0ac5dbeaf14b9><li data-nav-id=/acm-workshop/artifact-registry/allow-artifact-registry/index.html class=dd-item><a href=/acm-workshop/artifact-registry/allow-artifact-registry/index.html>Allow Artifact Registry<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/artifact-registry/create-artifact-registry/index.html class=dd-item><a href=/acm-workshop/artifact-registry/create-artifact-registry/index.html>Create Artifact Registry<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/artifact-registry/enforce-artifact-registry-policies/index.html class=dd-item><a href=/acm-workshop/artifact-registry/enforce-artifact-registry-policies/index.html>Enforce Artifact Registry policies<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/acm-workshop/service-mesh/index.html class=dd-item><a href=/acm-workshop/service-mesh/index.html>6. Service Mesh<i class="fas fa-check read-icon"></i></a><ul id=subsections-01f5706994e63158591802a8c5b59db9><li data-nav-id=/acm-workshop/service-mesh/allow-asm/index.html class=dd-item><a href=/acm-workshop/service-mesh/allow-asm/index.html>Allow ASM<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/service-mesh/install-asm/index.html class=dd-item><a href=/acm-workshop/service-mesh/install-asm/index.html>Install ASM<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/service-mesh/set-up-asm-configs/index.html class=dd-item><a href=/acm-workshop/service-mesh/set-up-asm-configs/index.html>Set up ASM configs<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/service-mesh/enforce-service-mesh-policies/index.html class=dd-item><a href=/acm-workshop/service-mesh/enforce-service-mesh-policies/index.html>Enforce Service Mesh policies<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/acm-workshop/ingress-gateway/index.html class=dd-item><a href=/acm-workshop/ingress-gateway/index.html>7. Ingress Gateway<i class="fas fa-check read-icon"></i></a><ul id=subsections-095c34dc5a5830fbe6c098a111f4371b><li data-nav-id=/acm-workshop/ingress-gateway/create-ip-address/index.html class=dd-item><a href=/acm-workshop/ingress-gateway/create-ip-address/index.html>Create IP address<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/ingress-gateway/allow-cloud-armor/index.html class=dd-item><a href=/acm-workshop/ingress-gateway/allow-cloud-armor/index.html>Allow Cloud Armor<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/ingress-gateway/set-up-cloud-armor/index.html class=dd-item><a href=/acm-workshop/ingress-gateway/set-up-cloud-armor/index.html>Set up Cloud Armor<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/ingress-gateway/deploy-ingress-gateway/index.html class=dd-item><a href=/acm-workshop/ingress-gateway/deploy-ingress-gateway/index.html>Deploy Ingress Gateway<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/ingress-gateway/deploy-network-policies/index.html class=dd-item><a href=/acm-workshop/ingress-gateway/deploy-network-policies/index.html>Deploy NetworkPolicies<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/ingress-gateway/deploy-authorization-policies/index.html class=dd-item><a href=/acm-workshop/ingress-gateway/deploy-authorization-policies/index.html>Deploy AuthorizationPolicies<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/acm-workshop/whereami/index.html class=dd-item><a href=/acm-workshop/whereami/index.html>8. Whereami app<i class="fas fa-check read-icon"></i></a><ul id=subsections-7e9046ad5996f70995bf102f06a13f6e><li data-nav-id=/acm-workshop/whereami/set-up-dns/index.html class=dd-item><a href=/acm-workshop/whereami/set-up-dns/index.html>Set up DNS<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/whereami/set-up-url-uptime-check/index.html class=dd-item><a href=/acm-workshop/whereami/set-up-url-uptime-check/index.html>Set up URL uptime check<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/whereami/configure-config-sync/index.html class=dd-item><a href=/acm-workshop/whereami/configure-config-sync/index.html>Configure Config Sync<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/whereami/prepare-container/index.html class=dd-item><a href=/acm-workshop/whereami/prepare-container/index.html>Prepare container<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/whereami/deploy-app/index.html class=dd-item><a href=/acm-workshop/whereami/deploy-app/index.html>Deploy app<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/whereami/deploy-authorization-policy/index.html class=dd-item><a href=/acm-workshop/whereami/deploy-authorization-policy/index.html>Deploy AuthorizationPolicy<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/whereami/deploy-network-policies/index.html class=dd-item><a href=/acm-workshop/whereami/deploy-network-policies/index.html>Deploy NetworkPolicies<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/whereami/deploy-sidecar/index.html class=dd-item><a href=/acm-workshop/whereami/deploy-sidecar/index.html>Deploy Sidecar<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/acm-workshop/onlineboutique/index.html class=dd-item><a href=/acm-workshop/onlineboutique/index.html>9. Online Boutique apps<i class="fas fa-check read-icon"></i></a><ul id=subsections-ec235b6b5f6b4b955c3f353cbc6a519b><li data-nav-id=/acm-workshop/onlineboutique/set-up-dns/index.html class=dd-item><a href=/acm-workshop/onlineboutique/set-up-dns/index.html>Set up DNS<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/onlineboutique/set-up-url-uptime-check/index.html class=dd-item><a href=/acm-workshop/onlineboutique/set-up-url-uptime-check/index.html>Set up URL uptime check<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/onlineboutique/allow-config-sync/index.html class=dd-item><a href=/acm-workshop/onlineboutique/allow-config-sync/index.html>Allow Config Sync<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/onlineboutique/configure-config-sync/index.html class=dd-item><a href=/acm-workshop/onlineboutique/configure-config-sync/index.html>Configure Config Sync<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/onlineboutique/prepare-containers-and-chart/index.html class=dd-item><a href=/acm-workshop/onlineboutique/prepare-containers-and-chart/index.html>Prepare containers and chart<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/onlineboutique/deploy-apps/index.html class=dd-item><a href=/acm-workshop/onlineboutique/deploy-apps/index.html>Deploy apps<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/onlineboutique/deploy-authorization-policies/index.html class=dd-item><a href=/acm-workshop/onlineboutique/deploy-authorization-policies/index.html>Deploy AuthorizationPolicies<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/onlineboutique/deploy-network-policies/index.html class=dd-item><a href=/acm-workshop/onlineboutique/deploy-network-policies/index.html>Deploy NetworkPolicies<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/onlineboutique/deploy-sidecars/index.html class=dd-item><a href=/acm-workshop/onlineboutique/deploy-sidecars/index.html>Deploy Sidecars<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/onlineboutique/memorystore/index.html class="dd-item alwaysopen"><a href=/acm-workshop/onlineboutique/memorystore/index.html>Memorystore<i class="fas fa-check read-icon"></i></a><ul id=subsections-acc306800279fb4f6dfb080d8713bc2a><li data-nav-id=/acm-workshop/onlineboutique/memorystore/allow-memorystore/index.html class=dd-item><a href=/acm-workshop/onlineboutique/memorystore/allow-memorystore/index.html>Allow Memorystore<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/onlineboutique/memorystore/enforce-memorystore-policies/index.html class=dd-item><a href=/acm-workshop/onlineboutique/memorystore/enforce-memorystore-policies/index.html>Enforce Memorystore policies<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/onlineboutique/memorystore/create-memorystore/index.html class=dd-item><a href=/acm-workshop/onlineboutique/memorystore/create-memorystore/index.html>Create Memorystore<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/onlineboutique/memorystore/use-memorystore/index.html class=dd-item><a href=/acm-workshop/onlineboutique/memorystore/use-memorystore/index.html>Use Memorystore<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/onlineboutique/memorystore/secure-memorystore-access/index.html class=dd-item><a href=/acm-workshop/onlineboutique/memorystore/secure-memorystore-access/index.html>Secure Memorystore access<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/acm-workshop/onlineboutique/spanner/index.html class="dd-item alwaysopen"><a href=/acm-workshop/onlineboutique/spanner/index.html>Spanner<i class="fas fa-check read-icon"></i></a><ul id=subsections-bee50e7f4245ff1a78b215cd41d8a4dd><li data-nav-id=/acm-workshop/onlineboutique/spanner/allow-spanner/index.html class=dd-item><a href=/acm-workshop/onlineboutique/spanner/allow-spanner/index.html>Allow Spanner<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/onlineboutique/spanner/create-spanner/index.html class=dd-item><a href=/acm-workshop/onlineboutique/spanner/create-spanner/index.html>Create Spanner<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/onlineboutique/spanner/use-spanner/index.html class=dd-item><a href=/acm-workshop/onlineboutique/spanner/use-spanner/index.html>Use Spanner<i class="fas fa-check read-icon"></i></a></li></ul></li></ul></li><li data-nav-id=/acm-workshop/bankofanthos/index.html class="dd-item parent"><a href=/acm-workshop/bankofanthos/index.html>10. Bank of Anthos apps<i class="fas fa-check read-icon"></i></a><ul id=subsections-8e9c8917aa02f581ef6507fa65eee2bc><li data-nav-id=/acm-workshop/bankofanthos/set-up-dns/index.html class=dd-item><a href=/acm-workshop/bankofanthos/set-up-dns/index.html>Set up DNS<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/bankofanthos/set-up-url-uptime-check/index.html class=dd-item><a href=/acm-workshop/bankofanthos/set-up-url-uptime-check/index.html>Set up URL uptime check<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/bankofanthos/configure-config-sync/index.html class="dd-item active"><a href=/acm-workshop/bankofanthos/configure-config-sync/index.html>Configure Config Sync<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/bankofanthos/prepare-containers/index.html class=dd-item><a href=/acm-workshop/bankofanthos/prepare-containers/index.html>Prepare containers<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/bankofanthos/deploy-apps/index.html class=dd-item><a href=/acm-workshop/bankofanthos/deploy-apps/index.html>Deploy apps<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/bankofanthos/deploy-authorization-policies/index.html class=dd-item><a href=/acm-workshop/bankofanthos/deploy-authorization-policies/index.html>Deploy AuthorizationPolicies<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/bankofanthos/deploy-network-policies/index.html class=dd-item><a href=/acm-workshop/bankofanthos/deploy-network-policies/index.html>Deploy NetworkPolicies<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/bankofanthos/deploy-sidecars/index.html class=dd-item><a href=/acm-workshop/bankofanthos/deploy-sidecars/index.html>Deploy Sidecars<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/acm-workshop/monitoring-and-audit/index.html class=dd-item><a href=/acm-workshop/monitoring-and-audit/index.html>11. Monitoring & Audit<i class="fas fa-check read-icon"></i></a><ul id=subsections-e7ce738b1a3297733bb8808d01228e61><li data-nav-id=/acm-workshop/monitoring-and-audit/verify-asm-version/index.html class=dd-item><a href=/acm-workshop/monitoring-and-audit/verify-asm-version/index.html>Verify ASM version<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/monitoring-and-audit/monitor-apps-security/index.html class=dd-item><a href=/acm-workshop/monitoring-and-audit/monitor-apps-security/index.html>Monitor apps security<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/monitoring-and-audit/monitor-apps-health/index.html class=dd-item><a href=/acm-workshop/monitoring-and-audit/monitor-apps-health/index.html>Monitor apps health<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/monitoring-and-audit/trace-apps/index.html class=dd-item><a href=/acm-workshop/monitoring-and-audit/trace-apps/index.html>Trace apps<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/monitoring-and-audit/monitor-waf-rules/index.html class=dd-item><a href=/acm-workshop/monitoring-and-audit/monitor-waf-rules/index.html>Monitor WAF rules<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/monitoring-and-audit/scan-workloads/index.html class=dd-item><a href=/acm-workshop/monitoring-and-audit/scan-workloads/index.html>Scan workloads<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/monitoring-and-audit/monitor-resources-synced/index.html class=dd-item><a href=/acm-workshop/monitoring-and-audit/monitor-resources-synced/index.html>Monitor resources synced<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/monitoring-and-audit/monitor-policies-violations/index.html class=dd-item><a href=/acm-workshop/monitoring-and-audit/monitor-policies-violations/index.html>Monitor policies violations<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/acm-workshop/monitoring-and-audit/monitor-uptime-checks/index.html class=dd-item><a href=/acm-workshop/monitoring-and-audit/monitor-uptime-checks/index.html>Monitor uptime checks<i class="fas fa-check read-icon"></i></a></li></ul></li></ul><div id=shortcuts><div class=nav-title>More</div><ul><li><a class=padding href=https://github.com/mathieu-benoit/acm-workshop/releases><i class='fab fa-fw fa-github'></i> Release notes</a></li><li><a class=padding href=/acm-workshop/tags><i class='fas fa-tags'></i> Tags</a></li></ul></div><div class="footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter"></div><hr class="default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter"><div id=prefooter class="footerLangSwitch footerVariantSwitch footerVisitedLinks showVisitedLinks"><ul><li id=select-language-container class=footerLangSwitch><div class="padding select-container"><i class="fas fa-language fa-fw"></i>
<span>&nbsp;</span><div class=select-style><label class=a11y-only for=select-language>Language</label>
<select id=select-language onchange="location=baseUri+this.value"></select></div><div class=select-clear></div></div></li><li id=select-variant-container class=footerVariantSwitch><div class="padding select-container"><i class="fas fa-paint-brush fa-fw"></i>
<span>&nbsp;</span><div class=select-style><label class=a11y-only for=select-variant>Theme</label>
<select id=select-variant onchange=window.variants&&variants.changeVariant(this.value)><option id=mine value=mine selected>Mine</option></select></div><div class=select-clear></div></div><script>window.variants&&variants.markSelectedVariant()</script></li><li class="footerVisitedLinks showVisitedLinks"><button class=padding onclick=clearHistory()><i class="fas fa-history fa-fw"></i> Clear History</button></li></ul></div><div id=footer class="footerFooter showFooter"><p>Built with <a href=https://github.com/McShelby/hugo-theme-relearn title=love><i class="fas fa-heart"></i></a> by <a href=https://gohugo.io/>Hugo</a></p></div></div></aside><script src=/acm-workshop/js/clipboard.min.js?1675964766 defer></script>
<script src=/acm-workshop/js/perfect-scrollbar.min.js?1675964766 defer></script>
<script src=/acm-workshop/js/theme.js?1675964766 defer></script></body></html>